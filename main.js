var cards = [
  {
    name: "nfvo1",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo2",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo3",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo4",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo5",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo6",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo7",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo8",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo9",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo10",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo11",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo12",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo13",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo14",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo15",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo16",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo17",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo18",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
  {
    name: "nfvo19",
    infor1: "1vCPU x86",
    iconInfor1: "./asset/img/2.png",
    infor2: "1TB HDD",
    iconInfor2: "./asset/img/4.png",
    infor3: "1vCPU x86",
    iconInfor3: "./asset/img/1.png",
    infor4: "01",
    iconInfor4: "./asset/img/3.png",
  },
];
let perPage = 4;
let currentPage = 1;
let start = 0;
let end = perPage;
const totalPages = Math.ceil(cards.length / perPage);
const btnNext = document.querySelector(".btn-next");
const btnPrev = document.querySelector(".btn-prev");
const btnActive = document.querySelector(".btn-active");
const active = document.querySelector(".active");

const searchButton = document.querySelector(".searchButton");
let elements = document.getElementsByClassName("group1158");
let myId = document.getElementById("myId");
let myIdNote = document.querySelector(".myId-note");
const searchInput = document.querySelector(".searchInput");
let valueItem = searchInput.value;
let nfvNumber = document.querySelector(".nfv_number");
let btnStart = document.querySelector(".btn-start");
let btnEnd = document.querySelector(".btn-end");
function renderCard(){
  for (let i = 0; i < elements.length; i++) {
    if (i >= start && i < end) {
      elements[i].style.display = "block";
    } else {
      elements[i].style.display = "none";
    }
  }
}
function getCurrentPage() {
  start = (currentPage - 1) * perPage;
  end = currentPage * perPage;
}
function renderHtml(items) {
  myIdNote.style.display = "none";
  html = "";
  for (let i = 0; i < cards.length; i++) {
    html += `
  <div class="group1158">    
                    <div class="group1158-top">
                        <div class="ribbon">
                            <p class="nfv_number" style="margin: 0px;">${cards[i].name}</p>
                        </div>
                        <div class="triangle-right">
                        </div>
                    </div>

                    <div class="group1158-mid">
                            <div class="cpt-chip1">
                                <img src=${cards[i].iconInfor1}>
                            </div>
                            <div class="i1vcpu1">
                                <p style="color: white;">${cards[i].infor1}</p>
                            </div>
                            <div class="cpt-hd">
                                <img src=${cards[i].iconInfor2}>
                            </div>
                            <div class="i1tbhdd">
                                <p style="color: white;">${cards[i].infor2}</p>
                            </div>
                    </div>
                    
                    <div class="group1158-bot">
                                <div class="cpt-ram1">
                                    <img src=${cards[i].iconInfor3}>
                                </div>
                                <div class="i1vcpu2">
                                    <p style="color: white;">${cards[i].infor3}</p>
                                </div>
                                <div class="cpt-monitor">
                                    <img src=${cards[i].iconInfor4}>
                                </div>
                                <div class="i04">
                                    <p style="color: white;">${cards[i].infor4}</p>
                                </div>
                    </div>
                </div>
  `;
    document.getElementById("myId").innerHTML = html;
  }

  renderCard()
}

renderListPage();
function renderListPage() {
  // myIdNote.style.display= 'none';
  let html = "";
  html += `<li class="active"> <a>${1}</a></li>`;
  for (let i = 2; i <= totalPages; i++) {
    html += `<li><a>${i}</a></li>`;
  }

  document.getElementById("number-page").innerHTML = html;
}
let x = 0;
function changePage() {
  const currentPages = document.querySelectorAll(".number-page li");
  // const btnNav = document.querySelectorAll('.content__paging li')
  // console.log(btnNav);


  for (let i = 0; i < currentPages.length; i++) {
    currentPages[i].addEventListener("click", () => {
      let value = i + 1;
      currentPage = value; // hiển thị số trang hiện tại
      // currentPage = currentPages[i].textContent;
      // console.log(currentPage);
      document.querySelector(".active").classList.remove("active");
      currentPages[i].classList.add("active");
      if (currentPage > 1 && currentPage < totalPages) {
        btnPrev.classList.remove("btn-active");
        btnNext.classList.remove("btn-active");
        btnEnd.classList.remove("btn-active");
        btnStart.classList.remove("btn-active");
      }
      else if (currentPage === 1) {
        btnPrev.classList.add("btn-active");
        btnStart.classList.add("btn-active");
        btnNext.classList.remove("btn-active");
        btnEnd.classList.remove("btn-active");
      }
      else if (currentPage === totalPages) {
        btnNext.classList.add("btn-active");
        btnEnd.classList.add("btn-active");
        btnPrev.classList.remove("btn-active");
        btnStart.classList.remove("btn-active");
      }
      getCurrentPage(currentPage);
      renderHtml();
      // console.log(totalPages)

      for (let j = 0; j < elements.length; j++) {
        if (j >= perPage * i && j < (i + 1) * perPage) {
          elements[j].style.display = "block";
        } else {
          elements[j].style.display = "none";
        }
      }
      // return currentPage;
      // console.log(currentPage);
    });
  }
  return currentPage;
}
// console.log(changePage());

changePage();

btnNext.addEventListener("click", () => {
  
  myIdNote.style.display = "none";
  currentPage++;

  if (currentPage > totalPages) {
    currentPage = totalPages;
  }
  if (currentPage === totalPages) {
    btnNext.classList.add("btn-active");
    btnEnd.classList.add("btn-active");
  }
  btnPrev.classList.remove("btn-active");
  btnStart.classList.remove("btn-active");
  document.querySelector(".active").classList.remove("active");
  document.querySelectorAll(".number-page li")[currentPage - 1].classList.add("active");
  // console.log(start, end);

  getCurrentPage(currentPage);
  renderHtml();
  renderCard()
});
btnEnd.addEventListener("click", () => {
  currentPage = totalPages;

  btnNext.classList.add("btn-active");
  btnEnd.classList.add("btn-active");
  btnPrev.classList.remove("btn-active");
  btnStart.classList.remove("btn-active");
  document.querySelector(".active").classList.remove("active");
  document.querySelectorAll(".number-page li")[currentPage - 1].classList.add("active");

  
  getCurrentPage(currentPage);
  renderHtml();
  
  
});



btnPrev.addEventListener("click", () => {
  myIdNote.style.display = "none";
  currentPage--;
  if (currentPage <= 1) {
    currentPage = 1;
  }
  if (currentPage === 1) {
    btnPrev.classList.add("btn-active");
    btnStart.classList.add("btn-active");
  }
  btnNext.classList.remove("btn-active");
  btnEnd.classList.remove("btn-active");
  document.querySelector(".active").classList.remove("active");
  document
    .querySelectorAll(".number-page li")
    [currentPage - 1].classList.add("active");
  getCurrentPage(currentPage);
  renderHtml();
  renderCard()
});

btnStart.addEventListener("click", () => {
  currentPage = 1;

  btnPrev.classList.add("btn-active");
  btnStart.classList.add("btn-active");
  btnNext.classList.remove("btn-active");
  btnEnd.classList.remove("btn-active");

  document.querySelector(".active").classList.remove("active");
  document.querySelectorAll(".number-page li")[currentPage - 1].classList.add("active");
  
  getCurrentPage(currentPage);
  renderHtml();
});


// --------------------------------------------------------
function some() {
  for (let i = 0; i < cards.length; i++) {
    renderHtml(cards[i]);
  }
}

function mySearch() {
  renderHtml(cards);
  const searchInput = document.querySelector(".searchInput");
  let valueItem = searchInput.value;
  let k = 0;

  Array.from(elements).forEach(function (ele) {
    let nameItem = ele.querySelector(".nfv_number").textContent;
    if (valueItem === "") {
      k++;
      getCurrentPage(changePage());
      renderCard();
    } else if (nameItem.indexOf(valueItem) !== -1) {
      
      ele.style.display = "block";
      k++;
      myIdNote.style.display = "none";
    } else {
      ele.style.display = "none";
    }
    
    if (k === 0) {
      ele.style.display = "none";
      myIdNote.style.display = "block";
      myIdNote.textContent = `Không tồn tại kết quả "${valueItem}"`;
      myIdNote.style.fontSize = "40px";
      myIdNote.style.color = "white";
    } else {
      myIdNote.textContent = ``;
    }
  });
}
searchInput.addEventListener("keyup", function (event) {
  if (event.keyCode === 13) {
    event.preventDefault();
    searchButton.click();
  }
});
